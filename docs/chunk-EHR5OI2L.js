import{g as _e}from"./chunk-V3JF3CEL.js";import{d as yt}from"./chunk-7JHQJKBP.js";import{$ as Fe,$a as ft,Aa as at,B as S,Ba as ie,C as ke,Ca as ne,D as et,Da as Ge,E as G,F as m,Fa as j,H as L,Ha as h,I as H,Ia as M,Ja as E,K as ce,Ka as rt,L as de,La as lt,M as Z,Ma as ct,N as tt,Na as dt,O as it,Oa as se,P as he,Pa as ht,Q as X,Qa as W,R as Ie,Ra as z,U as $,V as d,Va as F,W as nt,Wa as me,Z as v,Za as ut,_ as g,_a as pt,aa as R,ab as mt,ba as V,bb as Le,c as je,ca as st,d as ae,da as N,db as _t,e as re,ea as O,fa as ot,g as We,i as le,ia as ee,ib as gt,ja as y,k as q,ka as b,kb as vt,l as ze,la as ue,m as Ue,ma as x,n as Je,na as k,o as Ye,oa as u,p as Qe,pa as l,qa as a,r as K,ra as p,s as qe,sa as Ae,t as Ke,ta as Be,ua as te,v as Ze,va as pe,w as Xe,x as Pe,xa as I,y as B,ya as f,z as xe,za as fe}from"./chunk-SGB4RYZ6.js";var bt={production:!0,apiUrl:"https://tmw2p.somee.com"};var wt=(()=>{let e=class e{constructor(i,s){this.document=i,this.platformId=s,this.documentIsAccessible=Le(this.platformId)}static getCookieRegExp(i){let s=i.replace(/([[\]{}()|=;+?,.*^$\\])/gi,"\\$1");return new RegExp("(?:^"+s+"|;\\s*"+s+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(i){try{return decodeURIComponent(i)}catch{return i}}check(i){return this.documentIsAccessible?(i=encodeURIComponent(i),e.getCookieRegExp(i).test(this.document.cookie)):!1}get(i){if(this.check(i)){i=encodeURIComponent(i);let o=e.getCookieRegExp(i).exec(this.document.cookie);return o?.[1]?e.safeDecodeURIComponent(o[1]):""}else return""}getAll(){if(!this.documentIsAccessible)return{};let i={},s=this.document;return s.cookie&&s.cookie!==""&&s.cookie.split(";").forEach(o=>{let[r,c]=o.split("=");i[e.safeDecodeURIComponent(r.replace(/^ /,""))]=e.safeDecodeURIComponent(c)}),i}set(i,s,o,r,c,w,A,Ne){if(!this.documentIsAccessible)return;if(typeof o=="number"||o instanceof Date||r||c||w||A){let Q={expires:o,path:r,domain:c,secure:w,sameSite:A||"Lax",partitioned:Ne};this.set(i,s,Q);return}let D=encodeURIComponent(i)+"="+encodeURIComponent(s)+";",_=o||{};if(_.expires)if(typeof _.expires=="number"){let Q=new Date(new Date().getTime()+_.expires*1e3*60*60*24);D+="expires="+Q.toUTCString()+";"}else D+="expires="+_.expires.toUTCString()+";";_.path&&(D+="path="+_.path+";"),_.domain&&(D+="domain="+_.domain+";"),_.secure===!1&&_.sameSite==="None"&&(_.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${i} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),_.secure&&(D+="secure;"),_.sameSite||(_.sameSite="Lax"),D+="sameSite="+_.sameSite+";",_.partitioned&&(D+="Partitioned;"),this.document.cookie=D}delete(i,s,o,r,c="Lax"){if(!this.documentIsAccessible)return;let w=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(i,"",{expires:w,path:s,domain:o,secure:r,sameSite:c})}deleteAll(i,s,o,r="Lax"){if(!this.documentIsAccessible)return;let c=this.getAll();for(let w in c)c.hasOwnProperty(w)&&this.delete(w,i,s,o,r)}};e.\u0275fac=function(s){return new(s||e)(G(ce),G(Ie))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var P=class t{constructor(e,n){this.http=e;this.cookie=n;this.apiUrl=bt.apiUrl}steamController="/steam/";geminiController="/gemini/";apiUrl;getUserResume(e){return this.http.post(`${this.apiUrl+this.geminiController}resume`,e)}tellMeWhatToPlay(e,n){return this.http.post(`${this.apiUrl+this.geminiController}tell-me-what-to-play`,{lastTwoWeeks:e,allGames:n})}getUserId(e){return(this.cookie.get(e)?le(JSON.parse(this.cookie.get(e))):this.http.get(`${this.apiUrl+this.steamController}steam-user-id/${e}`).pipe(xe(i=>this.cookie.set(e,JSON.stringify(i),{expires:1})))).pipe(q(i=>i?.response?.steamid||null))}playerSummary(e){return this.http.get(`${this.apiUrl+this.steamController}player-summary/${e}`).pipe(q(n=>n?.response?.players?.[0]||null))}steamOwnedGames(e){return this.http.get(`${this.apiUrl+this.steamController}owned-games/${e}`).pipe(q(n=>n?.response.games||null))}static \u0275fac=function(n){return new(n||t)(G(_t),G(wt))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})};function He(t){t||(t=m(de));let e=new ae(n=>{if(t.destroyed){n.next();return}return t.onDestroy(n.next.bind(n))});return n=>n.pipe(B(e))}var Bt=t=>({$implicit:t});var Gt=["ngbNavOutlet",""];function Lt(t,e){}function Ht(t,e){if(t&1&&(l(0,"div",0),N(1,Lt,0,0,"ng-template",1),a()),t&2){let n=f().$implicit,i=f();u("item",n)("nav",i.nav)("role",i.paneRole),d(),u("ngTemplateOutlet",(n.contentTpl==null?null:n.contentTpl.templateRef)||null)("ngTemplateOutletContext",ht(5,Bt,n.active||i.isPanelTransitioning(n)))}}function $t(t,e){if(t&1&&y(0,Ht,2,7,"div",0),t&2){let n=e.$implicit,i=f();b(n.isPanelInDom()||i.isPanelTransitioning(n)?0:-1)}}var St={animation:!0,transitionTimerDelayMs:5},Vt=(()=>{let e=class e{constructor(){this.animation=St.animation}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jt(t){let{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t),i=parseFloat(e),s=parseFloat(n);return(i+s)*1e3}function ve(t){return t!=null}function Wt(t){return(t||document.body).getBoundingClientRect()}function zt(t){return e=>new ae(n=>{let i=r=>t.run(()=>n.next(r)),s=r=>t.run(()=>n.error(r)),o=()=>t.run(()=>n.complete());return e.subscribe({next:i,error:s,complete:o})})}var Ut=()=>{},{transitionTimerDelayMs:Jt}=St,ge=new Map,Dt=(t,e,n,i)=>{let s=i.context||{},o=ge.get(e);if(o)switch(i.runningTransition){case"continue":return We;case"stop":t.run(()=>o.transition$.complete()),s=Object.assign(o.context,s),ge.delete(e)}let r=n(e,i.animation,s)||Ut;if(!i.animation||window.getComputedStyle(e).transitionProperty==="none")return t.run(()=>r()),le(void 0).pipe(zt(t));let c=new re,w=new re,A=c.pipe(Ke(!0));ge.set(e,{transition$:c,complete:()=>{w.next(),w.complete()},context:s});let Ne=jt(e);return t.runOutsideAngular(()=>{let D=Ue(e,"transitionend").pipe(B(A),Ye(({target:Q})=>Q===e)),_=Je(Ne+Jt).pipe(B(A));Qe(_,D,w).pipe(B(A)).subscribe(()=>{ge.delete(e),t.run(()=>{r(),c.next(),c.complete()})})}),c.asObservable()};var Ot=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=ke({});let t=e;return t})();var Gn=(()=>{let t=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(t()||e()):!1})();var Ln=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");var Hn=new Date(1882,10,12),$n=new Date(2174,10,25);var Vn=1e3*60*60*24;var $e=1080,Yt=24*$e,Qt=12*$e+793,jn=29*Yt+Qt,Wn=11*$e+204;var qt=(()=>{let e=class e{constructor(){this._ngbConfig=m(Vt),this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(i){this._animation=i}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Mt=t=>ve(t)&&t!=="",Kt=0,Ve=(()=>{let e=class e{constructor(){this.templateRef=m(nt)}};e.\u0275fac=function(s){return new(s||e)},e.\u0275dir=R({type:e,selectors:[["ng-template","ngbNavContent",""]]});let t=e;return t})(),Et=(()=>{let e=class e{constructor(i){this.role=i,this.nav=m(oe)}};e.\u0275fac=function(s){return new(s||e)(he("role"))},e.\u0275dir=R({type:e,selectors:[["","ngbNavItem","",5,"ng-container"]],hostVars:1,hostBindings:function(s,o){s&2&&ee("role",o.role?o.role:o.nav.roles?"presentation":void 0)}});let t=e;return t})(),ye=(()=>{let e=class e{constructor(){this._nav=m(oe),this._nativeElement=m(X).nativeElement,this.disabled=!1,this.shown=new O,this.hidden=new O}ngOnInit(){ve(this.domId)||(this.domId=`ngb-nav-${Kt++}`)}get active(){return this._nav.activeId===this.id}get id(){return Mt(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(ve(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}isNgContainer(){return this._nativeElement.nodeType===Node.COMMENT_NODE}};e.\u0275fac=function(s){return new(s||e)},e.\u0275dir=R({type:e,selectors:[["","ngbNavItem",""]],contentQueries:function(s,o,r){if(s&1&&fe(r,Ve,4),s&2){let c;ie(c=ne())&&(o.contentTpl=c.first)}},hostAttrs:[1,"nav-item"],inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:[0,"ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"]});let t=e;return t})(),oe=(()=>{let e=class e{constructor(i){this.role=i,this._config=m(qt),this._cd=m(me),this._document=m(ce),this._nativeElement=m(X).nativeElement,this.destroyRef=m(de),this._navigatingWithKeyboard=!1,this.activeIdChange=new O,this.animation=this._config.animation,this.destroyOnHide=this._config.destroyOnHide,this.orientation=this._config.orientation,this.roles=this._config.roles,this.keyboard=this._config.keyboard,this.shown=new O,this.hidden=new O,this.navItemChange$=new re,this.navChange=new O}click(i){i.disabled||this._updateActiveId(i.id)}onFocusout({relatedTarget:i}){this._nativeElement.contains(i)||(this._navigatingWithKeyboard=!1)}onKeyDown(i){if(this.roles!=="tablist"||!this.keyboard)return;let s=this.links.filter(c=>!c.navItem.disabled),{length:o}=s,r=-1;if(s.forEach((c,w)=>{c.nativeElement===this._document.activeElement&&(r=w)}),o){switch(i.key){case"ArrowUp":case"ArrowLeft":r=(r-1+o)%o;break;case"ArrowRight":case"ArrowDown":r=(r+1)%o;break;case"Home":r=0;break;case"End":r=o-1;break}this.keyboard==="changeWithArrows"&&this.select(s[r].navItem.id),s[r].nativeElement.focus(),this._navigatingWithKeyboard=!0,i.preventDefault()}}select(i){this._updateActiveId(i,!1)}ngAfterContentInit(){if(!ve(this.activeId)){let i=this.items.first?this.items.first.id:null;Mt(i)&&(this._updateActiveId(i,!1),this._cd.detectChanges())}this.items.changes.pipe(He(this.destroyRef)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:i}){i&&!i.firstChange&&this._notifyItemChanged(i.currentValue)}_updateActiveId(i,s=!0){if(this.activeId!==i){let o=!1;s&&this.navChange.emit({activeId:this.activeId,nextId:i,preventDefault:()=>{o=!0}}),o||(this.activeId=i,this.activeIdChange.emit(i),this._notifyItemChanged(i))}}_notifyItemChanged(i){this.navItemChange$.next(this._getItemById(i))}_getItemById(i){return this.items&&this.items.find(s=>s.id===i)||null}};e.\u0275fac=function(s){return new(s||e)(he("role"))},e.\u0275dir=R({type:e,selectors:[["","ngbNav",""]],contentQueries:function(s,o,r){if(s&1&&(fe(r,ye,4),fe(r,be,5)),s&2){let c;ie(c=ne())&&(o.items=c),ie(c=ne())&&(o.links=c)}},hostAttrs:[1,"nav"],hostVars:4,hostBindings:function(s,o){s&1&&I("keydown.arrowLeft",function(c){return o.onKeyDown(c)})("keydown.arrowRight",function(c){return o.onKeyDown(c)})("keydown.arrowDown",function(c){return o.onKeyDown(c)})("keydown.arrowUp",function(c){return o.onKeyDown(c)})("keydown.Home",function(c){return o.onKeyDown(c)})("keydown.End",function(c){return o.onKeyDown(c)})("focusout",function(c){return o.onFocusout(c)}),s&2&&(ee("aria-orientation",o.orientation==="vertical"&&o.roles==="tablist"?"vertical":void 0)("role",o.role?o.role:o.roles?"tablist":void 0),j("flex-column",o.orientation==="vertical"))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],features:[tt]});let t=e;return t})(),be=(()=>{let e=class e{constructor(i){this.role=i,this.navItem=m(ye),this.nav=m(oe),this.nativeElement=m(X).nativeElement}get tabindex(){return this.nav.keyboard===!1?this.navItem.disabled?-1:void 0:this.nav._navigatingWithKeyboard||this.navItem.disabled||!this.navItem.active?-1:void 0}};e.\u0275fac=function(s){return new(s||e)(he("role"))},e.\u0275dir=R({type:e,selectors:[["","ngbNavLink",""]],hostAttrs:[1,"nav-link"],hostVars:12,hostBindings:function(s,o){s&2&&(pe("id",o.navItem.domId),ee("role",o.role?o.role:o.nav.roles?"tab":void 0)("tabindex",o.tabindex)("aria-controls",o.navItem.isPanelInDom()?o.navItem.panelDomId:null)("aria-selected",o.navItem.active)("aria-disabled",o.navItem.disabled),j("nav-item",o.navItem.isNgContainer())("active",o.navItem.active)("disabled",o.navItem.disabled))}});let t=e;return t})(),Rt=(()=>{let e=class e extends be{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=it(e)))(o||e)}})(),e.\u0275dir=R({type:e,selectors:[["button","ngbNavLink",""]],hostAttrs:["type","button"],hostVars:1,hostBindings:function(s,o){s&1&&I("click",function(){return o.nav.click(o.navItem)}),s&2&&pe("disabled",o.navItem.disabled)},features:[st]});let t=e;return t})();var Zt=({classList:t})=>(t.remove("show"),()=>t.remove("active")),Xt=(t,e)=>{e&&Wt(t),t.classList.add("show")},Ct=(()=>{let e=class e{constructor(){this.nativeElement=m(X).nativeElement}};e.\u0275fac=function(s){return new(s||e)},e.\u0275dir=R({type:e,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(s,o){s&2&&(pe("id",o.item.panelDomId),ee("role",o.role?o.role:o.nav.roles?"tabpanel":void 0)("aria-labelledby",o.item.domId),j("fade",o.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"}});let t=e;return t})(),Nt=(()=>{let e=class e{constructor(){this._cd=m(me),this._ngZone=m(ot),this._activePane=null}isPanelTransitioning(i){return this._activePane?.item===i}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(He(this.nav.destroyRef),Xe(this._activePane?.item||null),qe(),Ze(1)).subscribe(i=>{let s={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?Dt(this._ngZone,this._activePane.nativeElement,Zt,s).subscribe(()=>{let o=this._activePane?.item;this._activePane=this._getPaneForItem(i),this._cd.markForCheck(),this._activePane&&(this._activePane.nativeElement.classList.add("active"),Dt(this._ngZone,this._activePane.nativeElement,Xt,s).subscribe(()=>{i&&(i.shown.emit(),this.nav.shown.emit(i.id))})),o&&(o.hidden.emit(),this.nav.hidden.emit(o.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.nativeElement.classList.add("show","active")}_getPaneForItem(i){return this._panes&&this._panes.find(s=>s.item===i)||null}_getActivePane(){return this._panes&&this._panes.find(i=>i.item.active)||null}};e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=g({type:e,selectors:[["","ngbNavOutlet",""]],viewQuery:function(s,o){if(s&1&&at(Ct,5),s&2){let r;ie(r=ne())&&(o._panes=r)}},hostAttrs:[1,"tab-content"],inputs:{paneRole:"paneRole",nav:[0,"ngbNavOutlet","nav"]},attrs:Gt,decls:2,vars:0,consts:[["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(s,o){s&1&&x(0,$t,1,1,null,null,ue),s&2&&k(o.nav.items)},dependencies:[Ct,pt],encapsulation:2,changeDetection:0});let t=e;return t})();var Pt=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=ke({});let t=e;return t})();var zn=new et("live announcer delay",{providedIn:"root",factory:()=>100});var U=class{static filter=e=>e.playtime_2weeks!=null&&e.playtime_2weeks>0};var J=class t{transform(e){let n=e/60;return n>=10?Math.round(n):Math.round(n*10)/10}static \u0275fac=function(n){return new(n||t)};static \u0275pipe=V({name:"minutesToHours",type:t,pure:!0})};function ii(t,e){if(t&1&&p(0,"canvas",1),t&2){let n=f();u("data",n.pieChartData)("type",n.pieChartType)("options",n.pieChartOptions)}}var we=class t{data;pieChartData={labels:[],datasets:[{data:[]}]};pieChartType="pie";pieChartOptions={plugins:{legend:{display:!1}},responsive:!1};ngOnInit(){setTimeout(()=>{this.data.length>0&&(this.pieChartData={labels:this.data.map(e=>Array.isArray(e.name)?e.name:typeof e.name=="string"&&e.name.includes(",")?e.name.split(",").map(n=>n.trim()):e.name),datasets:[{data:this.data.map(e=>e.value),label:"Playtime(hours)"}]})},1e3)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=g({type:t,selectors:[["app-all-time"]],inputs:{data:"data"},decls:2,vars:1,consts:[[1,"col-12","chart"],["baseChart","",3,"data","type","options"]],template:function(n,i){n&1&&(l(0,"div",0),y(1,ii,1,3,"canvas",1),a()),n&2&&(d(),b(i.data?1:-1))},dependencies:[_e],encapsulation:2})};function ni(t,e){if(t&1&&p(0,"canvas",1),t&2){let n=f();u("data",n.pieChartData)("type",n.pieChartType)("options",n.pieChartOptions)}}var Te=class t{data;pieChartData={labels:[],datasets:[{data:[]}]};pieChartType="pie";pieChartOptions={plugins:{legend:{display:!1}},responsive:!1};ngOnInit(){setTimeout(()=>{this.data.length>0&&(this.pieChartData={labels:this.data.map(e=>Array.isArray(e.name)?e.name:typeof e.name=="string"&&e.name.includes(",")?e.name.split(",").map(n=>n.trim()):e.name),datasets:[{data:this.data.map(e=>e.value),label:"Playtime(hours)"}]})},1e3)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=g({type:t,selectors:[["app-last-two-weeks"]],inputs:{data:"data"},decls:2,vars:1,consts:[[1,"col-12","chart"],["baseChart","",3,"data","type","options"]],template:function(n,i){n&1&&(l(0,"div",0),y(1,ni,1,3,"canvas",1),a()),n&2&&(d(),b(i.data?1:-1))},dependencies:[_e],encapsulation:2})};var C=class t{allGamesSignal=Z([]);ownedGamesSignal=Z([]);playerSummarySignal=Z({});constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})};var si=(t,e)=>e.name;function oi(t,e){if(t&1&&(l(0,"span",9),h(1),a()),t&2){let n=e.$implicit;d(),M(n)}}function ai(t,e){t&1&&(l(0,"span",16),h(1,"WILDCARD"),a())}function ri(t,e){if(t&1&&(l(0,"div",7)(1,"div",8),x(2,oi,2,1,"span",9,ue),a(),l(4,"h2",10),h(5),N(6,ai,2,0,"span",11),a(),l(7,"p",12),h(8,"For fans of: "),l(9,"strong"),h(10),a()(),l(11,"div",13)(12,"p")(13,"span",14),h(14,"Pitch:"),a(),h(15),a(),l(16,"p")(17,"span",14),h(18,"Why?"),a(),h(19),a(),l(20,"p",15),h(21),a()()()),t&2){let n=e.$implicit;j("wildcard",n.isWildcard),d(2),k(n.genres),d(3),rt(" #",n.id,". ",n.name," "),d(),u("ngIf",n.isWildcard),d(4),M(n.referenceGame),d(5),E(" ",n.pitch),d(4),E(" ",n.why),d(2),M(n.score)}}function li(t,e){if(t&1&&(l(0,"div",3),x(1,ri,22,9,"div",6,si),a()),t&2){let n=f();d(),k(n.TMW2Play)}}function ci(t,e){t&1&&(l(0,"div",4)(1,"h2"),h(2,"No recommendations available"),a(),l(3,"p"),h(4,"It seems like we hit a glitch and can't find any games to recommend at the moment. Please check back later!"),a(),l(5,"p"),h(6,"We are sorry you are seeing this "),a(),l(7,"p"),h(8,"Happy gaming!"),a()())}function di(t,e){t&1&&(l(0,"div",5),p(1,"div",17),a())}var Ce=class t{constructor(e,n){this.sharedService=e;this.signalService=n;this.signToEffects()}TMW2Play=[];loading=!1;signToEffects(){F(()=>{let e=this.signalService.allGamesSignal().filter(U.filter).map(i=>i.name),n=this.signalService.allGamesSignal().map(i=>i.name);(e.length>0||n.length>0)&&(this.loading=!0,this.sharedService.tellMeWhatToPlay(e,n).pipe(K(1)).subscribe(i=>{this.TMW2Play=i,this.loading=!1}))})}static \u0275fac=function(n){return new(n||t)(v(P),v(C))};static \u0275cmp=g({type:t,selectors:[["app-tell-me-what-to-play"]],decls:9,vars:1,consts:[[1,"recommendations-container"],[1,"hype-header"],[1,"glitch-text"],[1,"game-grid"],[1,"no-recommendations"],[1,"loading-spinner"],[1,"game-card",3,"wildcard"],[1,"game-card"],[1,"genre-tags"],[1,"tag"],[1,"game-title"],["class","wildcard-badge",4,"ngIf"],[1,"reference-game"],[1,"game-details"],[1,"label"],[1,"score"],[1,"wildcard-badge"],["role","status",1,"spinner-border"]],template:function(n,i){n&1&&(l(0,"div",0)(1,"h1",1),h(2," \u{1F3AE} "),l(3,"span",2),h(4,"GAME RECOMMENDATIONS"),a(),h(5," \u{1F47E} "),a(),y(6,li,3,0,"div",3)(7,ci,9,0,"div",4)(8,di,2,0,"div",5),a()),n&2&&(d(6),b(!i.loading&&i.TMW2Play&&i.TMW2Play.length>0?6:i.loading?8:7))},dependencies:[mt,ut],styles:[".hype-header[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:1rem;color:#fff;text-shadow:0 0 10px #00f7ff,0 0 20px #00f7ff}.glitch-text[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_glitch 1s infinite}@keyframes _ngcontent-%COMP%_glitch{0%{text-shadow:0 0 10px #f50a0a}50%{text-shadow:0 0 15px #0f0cd3,0 0 20px #00f7ff}to{text-shadow:0 0 10px #00ff00}}.game-grid[_ngcontent-%COMP%]{display:grid;gap:1rem;padding-left:1rem;padding-right:1rem;grid-template-columns:repeat(auto-fill,minmax(300px,1fr))}.game-card[_ngcontent-%COMP%]{background:#14141ecc;border-radius:12px;padding:1.5rem;border-left:4px solid #00f7ff;transition:transform .3s}.game-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 15px #00f7ff4d}.game-card.wildcard[_ngcontent-%COMP%]{border-left-color:#ff00f7;background:#1e0a1ecc}.genre-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1rem}.tag[_ngcontent-%COMP%]{background:#00f7ff;color:#000;padding:.3rem .6rem;border-radius:20px;font-size:.8rem;font-weight:700}.game-title[_ngcontent-%COMP%]{color:#fff;margin:.5rem 0;font-size:1.4rem}.game-title[_ngcontent-%COMP%]   .wildcard-badge[_ngcontent-%COMP%]{background:#ff00f7;color:#fff;padding:.2rem .6rem;border-radius:20px;font-size:.8rem;margin-left:.5rem}.reference-game[_ngcontent-%COMP%]{color:#aaa;font-style:italic;margin-bottom:1rem}.game-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;color:#ddd}.game-details[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#00f7ff;font-weight:700}.game-details[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{font-weight:700;color:#ff00f7;margin-top:.8rem}"]})};function hi(t,e){if(t&1&&p(0,"app-last-two-weeks",10),t&2){let n=f();u("data",n.twoWeeksData)}}function ui(t,e){if(t&1&&p(0,"app-all-time",10),t&2){let n=f();u("data",n.allTimeData)}}function pi(t,e){t&1&&(Ae(0),p(1,"app-tell-me-what-to-play"),Be())}function fi(t,e){if(t&1&&y(0,pi,2,0,"ng-container"),t&2){let n=f();b(n.tmw2PlayLoaded?0:-1)}}var Se=class t{constructor(e,n){this.minutesToHoursPipe=e;this.signalService=n;this.signToChartEffects()}view=[700,400];active=1;twoWeeksData=[];allTimeData=[];gradient=!0;showLegend=!0;showLabels=!0;isDoughnut=!1;tmw2PlayLoaded=!1;colorScheme={domain:["#5AA454","#A10A28","#C7B42C","#AAAAAA"]};signToChartEffects(){this.signTwoWeeksDataEffect(),this.signAllTimeDataEffect()}signAllTimeDataEffect(){F(()=>{this.allTimeData=this.signalService.allGamesSignal().filter(e=>e.playtime_forever!=null&&e.playtime_forever>0).map(e=>({name:e.name,value:this.minutesToHoursPipe.transform(e.playtime_forever)}))})}signTwoWeeksDataEffect(){F(()=>{this.twoWeeksData=this.signalService.allGamesSignal().filter(U.filter).map(e=>({name:e.name,value:this.minutesToHoursPipe.transform(e.playtime_2weeks)}))})}static \u0275fac=function(n){return new(n||t)(v(J),v(C))};static \u0275cmp=g({type:t,selectors:[["app-charts-tab"]],features:[se([J])],decls:16,vars:9,consts:[["nav","ngbNav"],["data-bs-theme","dark",1,"gradient-bg-dark","profile-header"],["ngbNav","",1,"nav-tabs",3,"activeIdChange","activeId","destroyOnHide"],["title","Last 2 Weeks",3,"ngbNavItem","destroyOnHide"],["ngbNavLink",""],["ngbNavContent",""],["title","All Time",3,"ngbNavItem","destroyOnHide"],["title","Tell Me What to Play",3,"ngbNavItem","destroyOnHide"],["ngbNavLink","",3,"click"],[1,"mt-2",3,"ngbNavOutlet"],[3,"data"]],template:function(n,i){if(n&1){let s=te();l(0,"div",1)(1,"ul",2,0),dt("activeIdChange",function(r){return L(s),ct(i.active,r)||(i.active=r),H(r)}),l(3,"li",3)(4,"button",4),h(5,"Last 2 Weeks"),a(),N(6,hi,1,1,"ng-template",5),a(),l(7,"li",6)(8,"button",4),h(9,"All Time"),a(),N(10,ui,1,1,"ng-template",5),a(),l(11,"li",7)(12,"button",8),I("click",function(){return L(s),H(i.tmw2PlayLoaded=!0)}),h(13,"TMW2Play"),a(),N(14,fi,1,1,"ng-template",5),a()(),p(15,"div",9),a()}if(n&2){let s=Ge(2);d(),lt("activeId",i.active),u("destroyOnHide",!1),d(2),u("ngbNavItem",1)("destroyOnHide",!1),d(4),u("ngbNavItem",2)("destroyOnHide",!1),d(4),u("ngbNavItem",3)("destroyOnHide",!1),d(4),u("ngbNavOutlet",s)}},dependencies:[Pt,Ve,oe,ye,Et,Rt,be,Nt,Ot,Te,we,Ce],styles:["[_nghost-%COMP%]     .chart{height:calc(40vh - 50px)}[_nghost-%COMP%]     .chart canvas{margin:auto}"]})};var Oe=class t{transform(e){if(e<=0)return"Never played";let n=Math.floor((Date.now()-e*1e3)/1e3),i={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60};for(let[s,o]of Object.entries(i)){let r=Math.floor(n/o);if(r>=1)return r===1?`${r} ${s} ago`:`${r} ${s}s ago`}return"Just now"}static \u0275fac=function(n){return new(n||t)};static \u0275pipe=V({name:"lastPlayed",type:t,pure:!0})};var Me=class t{transform(e){let n=Math.floor(e/60),i=e%60;return`${n} hrs ${i} mins`}static \u0275fac=function(n){return new(n||t)};static \u0275pipe=V({name:"playTime",type:t,pure:!0})};var mi=(t,e)=>e.appid;function _i(t,e){if(t&1&&(l(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),p(4,"img",5),l(5,"div",6)(6,"h6",7),h(7),a(),l(8,"div",8)(9,"div"),h(10),W(11,"lastPlayed"),a(),l(12,"div"),h(13),W(14,"playTime"),a()()()()()()()),t&2){let n=e.$implicit,i=f();d(4),u("src",i.getGameImageUrl(n),$)("alt",n.name),d(3),M(n.name),d(3),E("Last played: ",z(11,5,n.rtime_last_played)),d(3),E("Total playtime: ",z(14,7,n.playtime_forever))}}var Ee=class t{ownedGames=[];getGameImageUrl(e){return`https://media.steampowered.com/steamcommunity/public/images/apps/${e.appid}/${e.img_icon_url}.jpg`}constructor(e){F(()=>{this.ownedGames=e.ownedGamesSignal()})}static \u0275fac=function(n){return new(n||t)(v(C))};static \u0275cmp=g({type:t,selectors:[["app-owned-games"]],decls:3,vars:0,consts:[[1,"row","owned-games-container"],[1,"col","col-md-4","col-sm-12","mb-2","card-parent"],[1,"game-card","card","gradient-bg-dark","border-0"],[1,"card-body","p-2"],[1,"d-flex"],["width","64","height","64",1,"rounded",3,"src","alt"],[1,"flex-grow-1","ms-3"],[1,"mb-1","text-truncate"],[1,"small"]],template:function(n,i){n&1&&(l(0,"div",0),x(1,_i,15,9,"div",1,mi),a()),n&2&&(d(),k(i.ownedGames))},dependencies:[Oe,Me],styles:[".card-parent[_ngcontent-%COMP%]{height:90px}.game-card[_ngcontent-%COMP%]{transition:transform .2s,box-shadow .2s;border:1px solid #2c3e50!important}.game-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 5px 15px #0000004d;border-color:#66c0f4!important}.loading-games[_ngcontent-%COMP%]{opacity:.7}.steam-btn[_ngcontent-%COMP%]{background-color:#5c7e10;font-weight:700}.steam-btn[_ngcontent-%COMP%]:hover{background-color:#6c8e20}"]})};function gi(t,e){if(t&1&&(p(0,"img",8),W(1,"lowercase")),t&2){let n=f();u("src","https://steamcommunity-a.akamaihd.net/public/images/countryflags/"+z(1,1,n.playerSummary==null?null:n.playerSummary.loccountrycode)+".gif",$)}}var Re=class t{switchNeverPlayed=!1;playerSummary;hideNeverPlayed=new O;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=g({type:t,selectors:[["app-summary-header"]],inputs:{playerSummary:"playerSummary"},outputs:{hideNeverPlayed:"hideNeverPlayed"},decls:16,vars:5,consts:[[1,"profile-header","gradient-bg-dark","p-2"],[1,"col","col-md-9","col-sm-12","text-center","mb-2"],[1,"row","align-items-center","m-2"],[1,"col","col-md-3","col-sm-6","text-center"],["alt","Profile Picture","priority","",1,"profile-pic","img-fluid","rounded-circle","mb-3",3,"src"],[1,"col","col-md-9","col-sm-12"],[1,"display-5"],[1,"fs-4"],["alt","Country Flag","priority","",1,"country-flag",3,"src"],[1,"mb-3"],["target","_blank",1,"btn","btn-primary","btn-sm",3,"href"]],template:function(n,i){n&1&&(l(0,"div",0)(1,"div",1)(2,"h6"),h(3,"Welcome, we are pleasured to have you here!"),a()(),l(4,"div",2)(5,"div",3),p(6,"img",4),a(),l(7,"div",5)(8,"h2",6),h(9),l(10,"span",7),h(11),a(),y(12,gi,2,3,"img",8),a(),l(13,"div",9)(14,"a",10),h(15," View Steam Profile "),a()()()()()),n&2&&(d(6),u("src",i.playerSummary.avatarfull,$),d(3),M(i.playerSummary.personaname),d(2),E(" (",i.playerSummary.realname,")"),d(),b(i.playerSummary!=null&&i.playerSummary.loccountrycode?12:-1),d(2),u("href",i.playerSummary.profileurl,$))},dependencies:[ft,yt],styles:[".profile-pic[_ngcontent-%COMP%]{border:5px solid #66c0f4;box-shadow:0 0 15px #66c0f480}.country-flag[_ngcontent-%COMP%]{width:30px;height:20px;border-radius:2px;margin:.5rem .5rem 0}.status-icon[_ngcontent-%COMP%]{font-size:1.2rem;vertical-align:middle}"]})};function vi(t,e){if(t&1){let n=te();l(0,"div",0)(1,"div",3)(2,"app-summary-header",4),I("hideNeverPlayed",function(s){L(n);let o=f();return H(o.onHideNeverPlayed(s))}),a(),p(3,"app-charts-tab",5),a(),l(4,"div",6),p(5,"app-owned-games"),a()()}if(t&2){let n=f();d(2),u("playerSummary",n.signalService.playerSummarySignal())}}function yi(t,e){t&1&&(l(0,"div",1),p(1,"div",7),a())}function bi(t,e){t&1&&(l(0,"div",2),h(1,` This profile is not public.
`),a())}var xt=class t{constructor(e,n,i,s){this.ac=e;this.router=n;this.sharedService=i;this.signalService=s}steamUser=null;loading=!0;ngAfterViewInit(){this.steamUser=this.ac.snapshot.paramMap.get("steamUser"),this.steamUser&&this.loadProfile(this.steamUser)}onHideNeverPlayed(e){if(e)return this.signalService.ownedGamesSignal.set(this.signalService.allGamesSignal().filter(n=>n.playtime_forever>0));this.signalService.ownedGamesSignal.set(this.signalService.allGamesSignal())}loadProfile(e){return je(this,null,function*(){this.loading=!0,this.sharedService.getUserId(e).pipe(K(1),Pe(n=>ze([this.sharedService.playerSummary(n),this.sharedService.steamOwnedGames(n)]))).subscribe(([n,i])=>{this.signalService.allGamesSignal.set(i),this.signalService.playerSummarySignal.set(n),this.signalService.ownedGamesSignal.set(i),this.loading=!1})})}static \u0275fac=function(n){return new(n||t)(v(gt),v(vt),v(P),v(C))};static \u0275cmp=g({type:t,selectors:[["app-profile"]],features:[se([P])],decls:3,vars:1,consts:[[1,"py-2"],[1,"loading-spinner"],[1,"m-2","py-2","alert","alert-warning","text-center"],[1,"row","summary-charts"],[1,"col-md-6","col-sm-12","main-gradient",3,"hideNeverPlayed","playerSummary"],[1,"col-md-6","col-sm-12","main-gradient"],[1,"col","col-md-12","col-sm-12"],["role","status",1,"spinner-border"]],template:function(n,i){if(n&1&&y(0,vi,6,1,"div",0)(1,yi,2,0,"div",1)(2,bi,2,0,"div",2),n&2){let s;b(((s=i.signalService.playerSummarySignal())==null?null:s.communityvisibilitystate)===3&&!i.loading?0:i.loading?1:2)}},dependencies:[Re,Ee,Se],styles:[".summary[_ngcontent-%COMP%]{margin-bottom:1.5rem}"]})};export{xt as ProfileComponent};
