import{a as ke,b as Ee,i as Ne,j as De,k as We,l as Ge,m as Ae,n as Be,o as Le,p as He,w as Q}from"./chunk-E5J4CGX6.js";import{$ as d,Ab as h,Ba as Y,Bb as y,C as $,Ca as g,F as pe,Ha as he,I as A,J as B,Ja as ye,La as l,Ma as c,N as R,Na as P,Oa as U,Pa as Ce,Qa as be,Ra as Se,Sa as ce,Ta as q,Va as Pe,W as O,Wa as s,X as n,Xa as m,_a as I,ba as v,bb as xe,cb as Te,ea as k,eb as _e,fb as K,ga as E,h as de,ha as ue,j as F,k as fe,kb as Me,na as C,oa as b,pa as ve,pb as we,q as j,qa as L,ra as H,rb as Ie,sa as p,ta as r,ua as o,va as f,wa as V,xa as z,xb as Oe,y as ge,ya as J,zb as T}from"./chunk-MWE6PJS5.js";var Ue={production:!0,apiUrl:"https://tmw2p.somee.com"};var _=class i{constructor(t,e){this.http=t;this.cookie=e;this.apiUrl=Ue.apiUrl}steamController="/steam/";geminiController="/gemini/";apiUrl;getUserResume(t){return this.http.post(`${this.apiUrl+this.geminiController}resume`,t)}tellMeWhatToPlay(t,e){return this.http.post(`${this.apiUrl+this.geminiController}tell-me-what-to-play`,{lastTwoWeeks:t,allGames:e})}getUserId(t){return(this.cookie.get(t)?de(JSON.parse(this.cookie.get(t))):this.http.get(`${this.apiUrl+this.steamController}steam-user-id/${t}`).pipe(ge(a=>this.cookie.set(t,JSON.stringify(a),{expires:1,sameSite:"Strict",secure:!0})))).pipe(F(a=>a?.response?.steamid||null))}playerSummary(t){return this.http.get(`${this.apiUrl+this.steamController}player-summary/${t}`).pipe(F(e=>e?.response?.players?.[0]||null))}steamOwnedGames(t){return this.http.get(`${this.apiUrl+this.steamController}owned-games/${t}`).pipe(F(e=>e?.response.games||null))}static \u0275fac=function(e){return new(e||i)(pe(Me),pe(ke))};static \u0275prov=$({token:i,factory:i.\u0275fac,providedIn:"root"})};var N=class{static filter=t=>t.playtime_2weeks!=null&&t.playtime_2weeks>0};var D=class i{transform(t){let e=t/60;return e>=10?Math.round(e):Math.round(e*10)/10}static \u0275fac=function(e){return new(e||i)};static \u0275pipe=k({name:"minutesToHours",type:i,pure:!0})};function Ve(i,t){if(i&1&&(r(0,"div",0),f(1,"canvas",2),o()),i&2){let e=g();n(),p("data",e.pieChartData)("type",e.pieChartType)("options",e.pieChartOptions)}}function ze(i,t){i&1&&(r(0,"div",1)(1,"p"),l(2),s(3,"transloco"),o()()),i&2&&(n(2),c(m(3,1,"common.noData")))}var X=class i{constructor(t){this.translationService=t}data;pieChartData={labels:[],datasets:[{data:[]}]};pieChartType="pie";pieChartOptions={plugins:{legend:{display:!1}},responsive:!1};ngOnInit(){let t=this.translationService.translate("profile.chartsTab.allTime.playTimeHours");setTimeout(()=>{this.data.length>0&&(this.pieChartData={labels:this.data.map(e=>Array.isArray(e.name)?e.name:typeof e.name=="string"&&e.name.includes(",")?e.name.split(",").map(a=>a.trim()):e.name),datasets:[{data:this.data.map(e=>e.value),label:t}]})},1e3)}static \u0275fac=function(e){return new(e||i)(d(T))};static \u0275cmp=v({type:i,selectors:[["app-all-time"]],inputs:{data:"data"},decls:2,vars:1,consts:[[1,"col-12","chart"],[1,"no-games-message"],["baseChart","",3,"data","type","options"]],template:function(e,a){e&1&&C(0,Ve,2,3,"div",0)(1,ze,4,3,"div",1),e&2&&b(a.data&&a.data.length?0:1)},dependencies:[Q,y,h],encapsulation:2})};function Je(i,t){if(i&1&&(r(0,"div",0),f(1,"canvas",2),o()),i&2){let e=g();n(),p("data",e.pieChartData)("type",e.pieChartType)("options",e.pieChartOptions)}}function Ye(i,t){i&1&&(r(0,"div",1)(1,"p"),l(2),s(3,"transloco"),o()()),i&2&&(n(2),c(m(3,1,"common.noData")))}var Z=class i{constructor(t){this.translationService=t}data;pieChartData={labels:[],datasets:[{data:[]}]};pieChartType="pie";pieChartOptions={plugins:{legend:{display:!1}},responsive:!1};ngOnInit(){let t=this.translationService.translate("profile.chartsTab.lastTwoWeeks.playTimeHours");setTimeout(()=>{this.data.length>0&&(this.pieChartData={labels:this.data.map(e=>Array.isArray(e.name)?e.name:typeof e.name=="string"&&e.name.includes(",")?e.name.split(",").map(a=>a.trim()):e.name),datasets:[{data:this.data.map(e=>e.value),label:t}]})},1e3)}static \u0275fac=function(e){return new(e||i)(d(T))};static \u0275cmp=v({type:i,selectors:[["app-last-two-weeks"]],inputs:{data:"data"},decls:2,vars:1,consts:[[1,"col-12","chart"],[1,"no-games-message"],["baseChart","",3,"data","type","options"]],template:function(e,a){e&1&&C(0,Je,2,3,"div",0)(1,Ye,4,3,"div",1),e&2&&b(a.data&&a.data.length?0:1)},dependencies:[Q,y,h],encapsulation:2})};var x=class i{allGamesSignal=R([]);ownedGamesSignal=R([]);playerSummarySignal=R({});constructor(){}static \u0275fac=function(e){return new(e||i)};static \u0275prov=$({token:i,factory:i.\u0275fac,providedIn:"root"})};var Ke=(i,t)=>t.name;function Qe(i,t){if(i&1&&(r(0,"span",9),l(1),o()),i&2){let e=t.$implicit;n(),c(e)}}function Xe(i,t){if(i&1&&(r(0,"span",16),l(1),s(2,"transloco"),o()),i&2){let e=g(3);n(),P(" ",m(2,1,e.translationPrefix+"wildcard"))}}function Ze(i,t){if(i&1&&(r(0,"div",7)(1,"div",8),L(2,Qe,2,1,"span",9,ve),o(),r(4,"h2",10),l(5),E(6,Xe,3,3,"span",11),o(),r(7,"p",12),l(8),s(9,"transloco"),r(10,"strong"),l(11),o()(),r(12,"div",13)(13,"p")(14,"span",14),l(15),s(16,"transloco"),o(),l(17),o(),r(18,"p")(19,"span",14),l(20),s(21,"transloco"),o(),l(22),o(),r(23,"p",15),l(24),o()()()),i&2){let e=t.$implicit,a=g(2);ye("wildcard",e.isWildcard),n(2),H(e.genres),n(3),U(" #",e.id,". ",e.name," "),n(),p("ngIf",e.isWildcard),n(2),c(m(9,12,a.translationPrefix+"forfansOf")),n(3),c(e.referenceGame),n(4),c(m(16,14,a.translationPrefix+"pitch")),n(2),P(" ",e.pitch),n(3),c(m(21,16,a.translationPrefix+"why")),n(2),P(" ",e.why),n(2),c(e.score)}}function et(i,t){if(i&1&&(r(0,"div",3),L(1,Ze,25,18,"div",6,Ke),o()),i&2){let e=g();n(),H(e.TMW2Play)}}function tt(i,t){if(i&1&&(r(0,"div",4)(1,"h2"),l(2),s(3,"transloco"),o(),r(4,"p"),l(5),s(6,"transloco"),o(),r(7,"p"),l(8),s(9,"transloco"),o(),r(10,"p"),l(11),s(12,"transloco"),o()()),i&2){let e=g();n(2),c(m(3,4,e.translationPrefix+"noRecommendationsTitle")),n(3),c(m(6,6,e.translationPrefix+"noRecommendationsLabel1")),n(3),c(m(9,8,e.translationPrefix+"noRecommendationsLabel2")),n(3),c(m(12,10,e.translationPrefix+"noRecommendationsLabel3"))}}function it(i,t){i&1&&(r(0,"div",5),f(1,"div",17),o())}var te=class i{constructor(t,e){this.sharedService=t;this.signalService=e;this.signToEffects()}TMW2Play=[];loading=!1;translationPrefix="profile.chartsTab.tellMeWhatToPlay.";signToEffects(){I(()=>{let t=this.signalService.allGamesSignal().filter(N.filter).map(a=>a.name),e=this.signalService.allGamesSignal().map(a=>a.name);(t.length>0||e.length>0)&&(this.loading=!0,this.sharedService.tellMeWhatToPlay(t,e).pipe(j(1)).subscribe(a=>{this.TMW2Play=a,this.loading=!1}))})}static \u0275fac=function(e){return new(e||i)(d(_),d(x))};static \u0275cmp=v({type:i,selectors:[["app-tell-me-what-to-play"]],decls:10,vars:4,consts:[[1,"recommendations-container"],[1,"hype-header"],[1,"glitch-text"],[1,"game-grid"],[1,"no-recommendations"],[1,"loading-spinner"],[1,"game-card",3,"wildcard"],[1,"game-card"],[1,"genre-tags"],[1,"tag"],[1,"game-title"],["class","wildcard-badge",4,"ngIf"],[1,"reference-game"],[1,"game-details"],[1,"label"],[1,"score"],[1,"wildcard-badge"],["role","status",1,"spinner-border"]],template:function(e,a){e&1&&(r(0,"div",0)(1,"h1",1),l(2," \u{1F3AE} "),r(3,"span",2),l(4),s(5,"transloco"),o(),l(6," \u{1F47E} "),o(),C(7,et,3,0,"div",3)(8,tt,13,12,"div",4)(9,it,2,0,"div",5),o()),e&2&&(n(4),c(m(5,2,a.translationPrefix+"gameRecommendations")),n(3),b(!a.loading&&a.TMW2Play&&a.TMW2Play.length>0?7:a.loading?9:8))},dependencies:[K,Te,y,h],styles:[".hype-header[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;margin-bottom:1rem;color:#fff;text-shadow:0 0 10px #00f7ff,0 0 20px #00f7ff}.glitch-text[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_glitch 1s infinite}@keyframes _ngcontent-%COMP%_glitch{0%{text-shadow:0 0 10px #f50a0a}50%{text-shadow:0 0 15px #0f0cd3,0 0 20px #00f7ff}to{text-shadow:0 0 10px #00ff00}}.game-grid[_ngcontent-%COMP%]{display:grid;gap:1rem;padding-left:1rem;padding-right:1rem;grid-template-columns:repeat(auto-fill,minmax(300px,1fr))}.game-card[_ngcontent-%COMP%]{background:#14141ecc;border-radius:12px;padding:1.5rem;border-left:4px solid #00f7ff;transition:transform .3s}.game-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 5px 15px #00f7ff4d}.game-card.wildcard[_ngcontent-%COMP%]{border-left-color:#ff00f7;background:#1e0a1ecc}.genre-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1rem}.tag[_ngcontent-%COMP%]{background:#00f7ff;color:#000;padding:.3rem .6rem;border-radius:20px;font-size:.8rem;font-weight:700}.game-title[_ngcontent-%COMP%]{color:#fff;margin:.5rem 0;font-size:1.4rem}.game-title[_ngcontent-%COMP%]   .wildcard-badge[_ngcontent-%COMP%]{background:#ff00f7;color:#fff;padding:.2rem .6rem;border-radius:20px;font-size:.8rem;margin-left:.5rem}.reference-game[_ngcontent-%COMP%]{color:#aaa;font-style:italic;margin-bottom:1rem}.game-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;color:#ddd}.game-details[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#00f7ff;font-weight:700}.game-details[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{font-weight:700;color:#ff00f7;margin-top:.8rem}.no-recommendations[_ngcontent-%COMP%]{padding:1rem}"]})};function at(i,t){if(i&1&&f(0,"app-last-two-weeks",8),i&2){let e=g();p("data",e.twoWeeksData)}}function nt(i,t){if(i&1&&f(0,"app-all-time",8),i&2){let e=g();p("data",e.allTimeData)}}function ot(i,t){i&1&&(V(0),f(1,"app-tell-me-what-to-play"),z())}function rt(i,t){if(i&1&&C(0,ot,2,0,"ng-container"),i&2){let e=g();b(e.tmw2PlayLoaded?0:-1)}}var ie=class i{constructor(t,e){this.minutesToHoursPipe=t;this.signalService=e;this.signToChartEffects()}view=[700,400];active=1;twoWeeksData=[];allTimeData=[];gradient=!0;showLegend=!0;showLabels=!0;isDoughnut=!1;tmw2PlayLoaded=!1;translationPrefix="profile.chartsTab.";colorScheme={domain:["#5AA454","#A10A28","#C7B42C","#AAAAAA"]};signToChartEffects(){this.signTwoWeeksDataEffect(),this.signAllTimeDataEffect()}signAllTimeDataEffect(){I(()=>{this.allTimeData=this.signalService.allGamesSignal().filter(t=>t.playtime_forever!=null&&t.playtime_forever>0).map(t=>({name:t.name,value:this.minutesToHoursPipe.transform(t.playtime_forever)}))})}signTwoWeeksDataEffect(){I(()=>{this.twoWeeksData=this.signalService.allGamesSignal().filter(N.filter).map(t=>({name:t.name,value:this.minutesToHoursPipe.transform(t.playtime_2weeks)}))})}static \u0275fac=function(e){return new(e||i)(d(D),d(x))};static \u0275cmp=v({type:i,selectors:[["app-charts-tab"]],features:[q([D])],decls:21,vars:24,consts:[["nav","ngbNav"],["data-bs-theme","dark",1,"gradient-bg-dark","profile-header"],["ngbNav","",1,"nav-tabs",3,"activeIdChange","activeId","destroyOnHide"],[3,"ngbNavItem","destroyOnHide","title"],["ngbNavLink",""],["ngbNavContent",""],["ngbNavLink","",3,"click"],[1,"mt-2",3,"ngbNavOutlet"],[3,"data"]],template:function(e,a){if(e&1){let u=J();r(0,"div",1)(1,"ul",2,0),Se("activeIdChange",function(G){return A(u),be(a.active,G)||(a.active=G),B(G)}),r(3,"li",3),s(4,"transloco"),r(5,"button",4),l(6),s(7,"transloco"),o(),E(8,at,1,1,"ng-template",5),o(),r(9,"li",3),s(10,"transloco"),r(11,"button",4),l(12),s(13,"transloco"),o(),E(14,nt,1,1,"ng-template",5),o(),r(15,"li",3),s(16,"transloco"),r(17,"button",6),Y("click",function(){return A(u),B(a.tmw2PlayLoaded=!0)}),l(18,"TMW2Play"),o(),E(19,rt,1,1,"ng-template",5),o()(),f(20,"div",7),o()}if(e&2){let u=he(2);n(),Ce("activeId",a.active),p("destroyOnHide",!1),n(2),p("ngbNavItem",1)("destroyOnHide",!1)("title",m(4,14,a.translationPrefix+"lastTwoWeeksLabel")),n(3),c(m(7,16,a.translationPrefix+"lastTwoWeeksLabel")),n(3),p("ngbNavItem",2)("destroyOnHide",!1)("title",m(10,18,a.translationPrefix+"allTimeLabel")),n(3),c(m(13,20,a.translationPrefix+"allTimeLabel")),n(3),p("ngbNavItem",3)("destroyOnHide",!1)("title",m(16,22,a.translationPrefix+"tellMeWhatToPlayLabel")),n(5),p("ngbNavOutlet",u)}},dependencies:[He,Ne,Ge,We,De,Be,Ae,Le,Ee,Z,X,te,y,h],styles:["[_nghost-%COMP%]     .chart{height:calc(40vh - 50px)}[_nghost-%COMP%]     .chart canvas{margin:auto}[_nghost-%COMP%]     .no-games-message{padding:1rem}"]})};var ae=class i{constructor(t){this.translationService=t}transform(t){let e=this.translationService.translate("common.ago"),a=this.translationService.translate("common.justNow"),u=this.translationService.translate("common.neverPlayed");if(t<=0)return u;let w=Math.floor((Date.now()-t*1e3)/1e3),G={[this.translationService.translate("common.year")]:31536e3,[this.translationService.translate("common.month")]:2592e3,[this.translationService.translate("common.week")]:604800,[this.translationService.translate("common.day")]:86400,[this.translationService.translate("common.hour")]:3600,[this.translationService.translate("common.minute")]:60};for(let[le,$e]of Object.entries(G)){let se=Math.floor(w/$e);if(se>=1){let me=le;return se>1&&(le===this.translationService.translate("common.month")?me=this.translationService.translate("common.months"):me=`${le}s`),`${se} ${me} ${e}`}}return a}static \u0275fac=function(e){return new(e||i)(d(T,16))};static \u0275pipe=k({name:"lastPlayed",type:i,pure:!0})};var ne=class i{constructor(t){this.translationService=t}transform(t){let e=this.translationService.translate("common.hour")+"s",a=this.translationService.translate("common.minute")+"s",u=Math.floor(t/60),w=t%60;return`${u} ${e} ${w} ${a}`}static \u0275fac=function(e){return new(e||i)(d(T,16))};static \u0275pipe=k({name:"playTime",type:i,pure:!0})};var lt=(i,t)=>({"pe-0 d-md-block":i,"d-none":t}),st=(i,t)=>t.appid;function mt(i,t){if(i&1&&(r(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),f(4,"img",5),r(5,"div",6)(6,"h6",7),l(7),o(),r(8,"div",8)(9,"div"),l(10),s(11,"transloco"),s(12,"lastPlayed"),o(),r(13,"div"),l(14),s(15,"transloco"),s(16,"playTime"),o()()()()()()()),i&2){let e=t.$implicit,a=t.$index,u=g();p("ngClass",Pe(16,lt,(a+1)%3===0,(a+1)%3===0)),n(4),p("src",u.getGameImageUrl(e),O)("alt",e.name),n(3),c(e.name),n(3),U("",m(11,8,u.translationPrefix+"lastPlayed")," ",m(12,10,e.rtime_last_played)),n(4),U("",m(15,12,u.translationPrefix+"totalPlaytime")," ",m(16,14,e.playtime_forever))}}var oe=class i{ownedGames=[];translationPrefix="profile.ownedGames.";getGameImageUrl(t){return`https://media.steampowered.com/steamcommunity/public/images/apps/${t.appid}/${t.img_icon_url}.jpg`}constructor(t){I(()=>{this.ownedGames=t.ownedGamesSignal()})}static \u0275fac=function(e){return new(e||i)(d(x))};static \u0275cmp=v({type:i,selectors:[["app-owned-games"]],decls:3,vars:0,consts:[[1,"row","owned-games-container"],[1,"col-md-4","col-sm-12","mb-2","card-parent",3,"ngClass"],[1,"game-card","card","gradient-bg-dark","border-0"],[1,"card-body","p-2"],[1,"d-flex"],["width","64","height","64",1,"rounded",3,"src","alt"],[1,"flex-grow-1","ms-3"],[1,"mb-1","text-truncate"],[1,"small"]],template:function(e,a){e&1&&(r(0,"div",0),L(1,mt,17,19,"div",1,st),o()),e&2&&(n(),H(a.ownedGames))},dependencies:[ae,ne,y,h,K,xe],styles:[".card-parent[_ngcontent-%COMP%]{height:90px}.game-card[_ngcontent-%COMP%]{transition:transform .2s,box-shadow .2s;border:1px solid #2c3e50!important}.game-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 5px 15px #0000004d;border-color:#66c0f4!important}.loading-games[_ngcontent-%COMP%]{opacity:.7}.steam-btn[_ngcontent-%COMP%]{background-color:#5c7e10;font-weight:700}.steam-btn[_ngcontent-%COMP%]:hover{background-color:#6c8e20}"]})};function pt(i,t){if(i&1&&(V(0),f(1,"img",10),s(2,"transloco"),s(3,"lowercase"),z()),i&2){let e=g();n(),p("alt",ce(m(2,3,e.translationPrefix+"countryFlag")))("src","https://steamcommunity-a.akamaihd.net/public/images/countryflags/"+m(3,5,e.playerSummary.loccountrycode)+".gif",O)}}var re=class i{switchNeverPlayed=!1;translationPrefix="profile.summaryHeader.";playerSummary;hideNeverPlayed=new ue;static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-summary-header"]],inputs:{playerSummary:"playerSummary"},outputs:{hideNeverPlayed:"hideNeverPlayed"},decls:19,vars:15,consts:[[1,"profile-header","gradient-bg-dark"],[1,"col","col-md-9","col-sm-12","text-center","py-3","m-auto"],[1,"row","align-items-center","m-2"],[1,"col","col-md-3","col-sm-6","text-center"],["priority","",1,"profile-pic","img-fluid","rounded-circle","mb-3",3,"src","alt"],[1,"col","col-md-9","col-sm-12"],[1,"display-5"],[1,"fs-4"],[1,"mb-3"],["target","_blank",1,"btn","btn-primary","btn-sm",3,"href"],["priority","",1,"country-flag",3,"src","alt"]],template:function(e,a){e&1&&(r(0,"div",0)(1,"div",1)(2,"h6"),l(3),s(4,"transloco"),o()(),r(5,"div",2)(6,"div",3),f(7,"img",4),s(8,"transloco"),o(),r(9,"div",5)(10,"h2",6),l(11),r(12,"span",7),l(13),o(),C(14,pt,4,7,"ng-container"),o(),r(15,"div",8)(16,"a",9),l(17),s(18,"transloco"),o()()()()()),e&2&&(n(3),c(m(4,9,a.translationPrefix+"welcomeMessage")),n(4),p("alt",ce(m(8,11,a.translationPrefix+"profilePicture")))("src",a.playerSummary.avatarfull,O),n(4),P(" ",a.playerSummary.personaname," "),n(2),P(" (",a.playerSummary.realname||a.playerSummary.personaname,")"),n(),b(a.playerSummary.loccountrycode?14:-1),n(2),p("href",a.playerSummary.profileurl,O),n(),P(" ",m(18,13,a.translationPrefix+"viewSteamProfile")," "))},dependencies:[_e,Oe,y,h],styles:[".profile-pic[_ngcontent-%COMP%]{border:5px solid #66c0f4;box-shadow:0 0 15px #66c0f480}.country-flag[_ngcontent-%COMP%]{width:30px;height:20px;border-radius:2px;margin:.5rem .5rem 0}.status-icon[_ngcontent-%COMP%]{font-size:1.2rem;vertical-align:middle}"]})};function ct(i,t){if(i&1){let e=J();r(0,"div",0)(1,"div",3)(2,"app-summary-header",4),Y("hideNeverPlayed",function(u){A(e);let w=g();return B(w.onHideNeverPlayed(u))}),o(),f(3,"app-charts-tab",5),o(),r(4,"div",3),f(5,"app-owned-games",6),o()()}if(i&2){let e=g();n(2),p("playerSummary",e.signalService.playerSummarySignal())}}function dt(i,t){i&1&&(r(0,"div",1),f(1,"div",7),o())}function ft(i,t){i&1&&(r(0,"div",2),l(1),s(2,"transloco"),o()),i&2&&(n(),P(" ",m(2,1,"profile.notPublic"),`
`))}var je=class i{constructor(t,e,a,u){this.ac=t;this.router=e;this.sharedService=a;this.signalService=u}steamUser=null;loading=!0;ngAfterViewInit(){this.steamUser=this.ac.snapshot.paramMap.get("steamUser");let t=this.ac.snapshot.queryParamMap.get("type");if(!this.steamUser){this.router.navigate(["Home"]);return}t==="id"?this.loadProfileById(this.steamUser):this.loadProfile(this.steamUser)}loadProfileById(t){this.loading=!0,this.loadProfileData(t)}loadProfile(t){this.loading=!0,this.sharedService.getUserId(t).pipe(j(1)).subscribe(e=>{this.loadProfileData(e)})}loadProfileData(t){return fe([this.sharedService.playerSummary(t),this.sharedService.steamOwnedGames(t)]).subscribe(([e,a])=>{this.updateSignals(e,a),this.loading=!1})}updateSignals(t,e){this.signalService.allGamesSignal.set(e),this.signalService.playerSummarySignal.set(t),this.signalService.ownedGamesSignal.set(e)}onHideNeverPlayed(t){let e=t?this.signalService.allGamesSignal().filter(a=>a.playtime_forever>0):this.signalService.allGamesSignal();this.signalService.ownedGamesSignal.set(e)}static \u0275fac=function(e){return new(e||i)(d(we),d(Ie),d(_),d(x))};static \u0275cmp=v({type:i,selectors:[["app-profile"]],features:[q([_])],decls:3,vars:1,consts:[[1,"py-2","tmw2p-container"],[1,"loading-spinner"],[1,"m-2","py-2","alert","alert-warning","text-center","tmw2p-container"],[1,"row"],[1,"col-md-6","col-sm-12","mb-3",3,"hideNeverPlayed","playerSummary"],[1,"col-md-6","col-sm-12","mb-3"],[1,"col-md-12","col-sm-12"],["role","status",1,"spinner-border"]],template:function(e,a){if(e&1&&C(0,ct,6,1,"div",0)(1,dt,2,0,"div",1)(2,ft,3,3,"div",2),e&2){let u;b(((u=a.signalService.playerSummarySignal())==null?null:u.communityvisibilitystate)===3&&!a.loading?0:a.loading?1:2)}},dependencies:[re,oe,ie,y,h],styles:[".summary[_ngcontent-%COMP%]{margin-bottom:1.5rem}.tmw2p-container[_ngcontent-%COMP%]{overflow-y:overlay;overflow-x:hidden}"]})};export{je as ProfileComponent};
